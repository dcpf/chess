<!DOCTYPE html>
<!-- Copyright (c) 1998 - 2013 dpf, dpf@theworld.com -->
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="Dave's Chess-By-Email - Internet Correspondence Chess">
    <meta name="keywords" content="chess-by-email, chess by email, play chess, correspondence chess">
    <meta name="author" content="David Piersol-Freedman 1998">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dave's Chess-By-Email</title>
    <link rel="shortcut icon" href="/webapp/images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/webapp/chess.css?ver=<%= runtimestamp %>">
</head>
<body>

    <!-- Create/enter view -->
    <div id="enterGameView" style="display: none"></div>

    <!-- Play game view-->
    <div id="playGameView">

        <div id="optionsMenuContainer"></div>

        <div style="display: inline-block; vertical-align: top">
            <div id="playerInfoContainer"></div>
            <div id="moveHistoryContainer"></div>
        </div>

        <div style="display: inline-block; vertical-align: top">
            <div id="messageContainer"></div>
            <div id="chessBoardContainer"></div>
            <div id="capturedPiecesContainer"></div>
        </div>

    </div>

</body>

<!-- dialogs -->

<div id="progressDialog" class="modal" role="dialog" aria-hidden="true" data-backdrop="static">
    <div class="modal-body">
        <div id="spinner">&#9816;</div>
    </div>
</div>

<div id="dialogsContainer"></div>

<script>

window.onerror = function (msg, url, lineNum) {
    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/logClientError', true);
    var params = 'msg=' + encodeURIComponent(msg) + '&url=' + encodeURIComponent(url) + '&lineNum=' + lineNum;
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send(params);
};

function log (msg) {
    if (window.console) {
        console.log(msg);
    }
}

var chessAttrs = {
    config: <%= config %>
};

</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="//cdn.socket.io/socket.io-1.2.1.js"></script>
<script src="/webapp/chess.js?ver=<%= runtimestamp %>"></script>

</html>
